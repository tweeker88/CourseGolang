# Пакеты, модули и работа с ними. Тесты. Оператор defer. Система ошибок в GO

## Пакеты и модули

В этой папке 2 модуля: мейн и калькулятор, они находятся в одном пакета main  
В одном пакете возможно только **Одна** функция main()

* go run main.go calculator.go - запуск модулей
* go build main.go calculator.go - билд из модулей
* go install main.go calculator.go
* go mod init <ProjectDirName> - определяем точку входа в проек
Большая буква у методов или свойств означает, что они экспортируемые, и мы можем их использовать в других пакетах

### Функция init()

Данная функция отрабатывает единожды при первом импортировании пакета.  
Может быть только 1 функция в пакете.

### Данный процесс выглядит следующим образом

* сначала компилятор смотрит на содержимое пакета
* затем компилятор смотрит на пути импорта (если что-то импортируется, компилятор уходит туда)
* затем компилятор инициализурет переменные уровня пакета
* затем компилятор запускает функцию init() для данного пакета
* повторяет данную процедуру для всех пакетов проекта
* после чего вызывается функция main()

Все импорты (вне зависимости , стандартные или пользовательские) сортируются по алфавиту

## Тесты

Файл с модульными тестами приянто называть:

* <script_name>_test.go
* <package_name>_test.go

На каждый юнит создаем по своей тестирующей функции (Test)  
Приянто каждую такую функию начинать со слова Test....

запуск тестов go test:

* -v показывает подробную информацию
* -cover показывает % покрытия тестами

## Defer

Оператор отложенного ВЫЗОВА функции/метода.  
Если функция принимает входные параметры и данная функция используется в связки с **defer**

* параметры расчитываются в момент передачи их в функцию
* вызов функции с уже давно рассчитанным параметром осуществляется в момент
* завершения вышележащей функции

Если несколько функций задеферены, то вызываются в порядке стака

## Ошибки

* Ошибки Error (ЯВЛЯЕТСЯ КАНОНИЧНЫМ ИСПОЛНЕНИЕМ НА СЛУЧАЙ НЕНОРМАЛЬНОГО ПОВЕДЕНИЯ)
* Паника (не лучший вариант, так как приводит сразу к аварийному завершению, и в принципе мог быть обычной ошибкой)
